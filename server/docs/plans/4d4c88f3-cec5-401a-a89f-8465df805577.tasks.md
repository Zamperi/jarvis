Now I have a good understanding of the codebase. Let me create the task breakdown:

# TASK BREAKDOWN
RunId: 4d4c88f3-cec5-401a-a89f-8465df805577
Task: docs/tasks/Ticket-1-Policy.md
Role: developer
Status: DRAFT

## Task
Id: T1
Title: Add policy check to write_file tool
Status: PENDING
Files:
- src/tools/fileTools.ts

Description:
Modify the writeFileTool.execute function to call checkActionAgainstPolicy before writing the file. Import necessary types and functions from policyTools. Return structured error if policy check fails.

## Task
Id: T2
Title: Add policy check to apply_patch in fileTools
Status: PENDING
Files:
- src/tools/fileTools.ts

Description:
Add policy check to the applyPatch function before applying patches. Ensure the function checks policy with proper ActionDescription including targetPaths and estimatedChangedLines. Return error result if policy fails.

## Task
Id: T3
Title: Add policy check to runTests function
Status: PENDING
Files:
- src/tools/execTools.ts

Description:
Modify runTests function to accept PolicyConfig parameter and call checkActionAgainstPolicy before executing tests. Return structured error result if policy check fails.

## Task
Id: T4
Title: Add policy check to runBuild function
Status: PENDING
Files:
- src/tools/execTools.ts

Description:
Modify runBuild function to accept PolicyConfig parameter and call checkActionAgainstPolicy before executing build. Return structured error result if policy check fails.

## Task
Id: T5
Title: Add policy check to runLint function
Status: PENDING
Files:
- src/tools/execTools.ts

Description:
Modify runLint function to accept PolicyConfig parameter and call checkActionAgainstPolicy before executing lint. Return structured error result if policy check fails.

## Task
Id: T6
Title: Update agentRunner to pass policy to exec tools
Status: PENDING
Files:
- src/agent/agentRunner.ts

Description:
Update the tool execution calls for runTests, runBuild, and runLint in agentRunner to pass the policy configuration. Remove duplicate policy checks from agentRunner since they will now be in the tool implementations.

## Task
Id: T7
Title: Update blocked paths configuration
Status: PENDING
Files:
- src/tools/policyTools.ts

Description:
Ensure the PolicyConfig includes proper blocked paths like .env, node_modules, dist, etc. Add default blocked paths constant if not already present.

## Task
Id: T8
Title: Add tests for policy enforcement
Status: PENDING
Files:
- src/tools/__tests__/policyTools.test.ts

Description:
Create comprehensive tests for policy enforcement on all write/exec tools. Test both allowed and blocked scenarios, path restrictions, and line count limits.